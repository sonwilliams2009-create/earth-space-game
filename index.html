<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ECHS KY Earth & Space Science Bellwork</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#05051a;
  color:white;
  text-align:center;
}

h1{
  background:#111;
  padding:15px;
  margin:0;
  border-bottom:3px solid orange;
  color:#00e5ff;
}

.screen{
  display:none;
  padding:30px;
}

#login{
  display:block;
}

button,input,select{
  padding:12px;
  margin:10px;
  border-radius:10px;
  border:none;
  font-size:16px;
}

button{
  background:#ff9800;
  cursor:pointer;
  font-weight:bold;
}

button:hover{
  background:white;
  color:black;
}

img{
  max-width:380px;
  margin:15px;
  border-radius:12px;
  border:2px solid orange;
}

#unitChecklist{
  text-align:left;
  max-width:600px;
  margin:20px auto;
  background:#111;
  padding:15px;
  border-radius:12px;
}
</style>
</head>

<body>

<h1>üåç ECHS KY Earth & Space Science Bellwork</h1>

<!-- LOGIN SCREEN -->
<div id="login" class="screen">
  <h2>Student Login</h2>
  <input id="studentName" placeholder="Username">
  <button id="studentLoginBtn">Login</button>

  <h2>Teacher Login</h2>
  <input id="teacherPass" type="password" placeholder="Password">
  <button id="teacherLoginBtn">Login</button>
</div>

<!-- TEACHER DASHBOARD -->
<div id="dashboard" class="screen">
  <h2>Teacher Dashboard</h2>

  <h3>Add Student</h3>
  <input id="newStudentName" placeholder="Student Username">
  <button id="addStudentBtn">Add Student</button>

  <hr>

  <h3>Assign Units to Student</h3>

  <select id="studentSelect"></select>
  <button id="loadUnitsBtn">Load Student Units</button>

  <div id="unitChecklist"></div>

  <button id="saveUnitsBtn">Save Unit Assignment ‚úÖ</button>

  <hr>

  <h3>Leaderboard</h3>
  <div id="leaderboard"></div>

  <button onclick="showScreen('login')">Logout</button>
</div>

<!-- STUDENT MENU -->
<div id="studentMenu" class="screen">
  <h2>Student Bellwork Menu</h2>
  <div id="unitButtons"></div>
  <button onclick="showScreen('login')">Logout</button>
</div>

<!-- QUIZ SCREEN -->
<div id="quizScreen" class="screen">
  <h2 id="unitTitle"></h2>
  <p id="questionText"></p>
  <div id="questionImage"></div>
  <div id="answerButtons"></div>
</div>

<script>
/* ============================
   GLOBAL DATA
============================ */

let students = JSON.parse(localStorage.getItem("students")) || {};

let currentStudent = "";
let currentUnit = "";
let currentQuestionIndex = 0;
let score = 0;

/* ============================
   UNITS LIST
============================ */

const units = {
  unit1:"Unit 1: Big Bang & Universe",
  unit2:"Unit 2: Stars & Galaxies",
  unit3:"Unit 3: Solar System",
  unit4:"Unit 4: Gravity & Orbits",
  unit5:"Unit 5: Earth Layers",
  unit6:"Unit 6: Plate Tectonics",
  unit7:"Unit 7: Earthquakes",
  unit8:"Unit 8: Volcanoes",
  unit9:"Unit 9: Weather Systems",
  unit10:"Unit 10: Climate Change",
  unit11:"Unit 11: Oceans",
  unit12:"Unit 12: Natural Resources",
  unit13:"Unit 13: Human Impacts",
  unit14:"Unit 14: Moon & Tides",
  unit15:"Unit 15: Space Exploration",
  unit16:"Unit 16: Atmosphere",
  unit17:"Unit 17: Magnetic Field",
  unit18:"Unit 18: Rocks & Minerals",
  unit19:"Unit 19: Geologic Time",
  unit20:"Unit 20: Year Review"
};

/* ============================
   QUESTION BANK (SAMPLES)
============================ */

const questionBank = {
unit1:[
 {q:"The Big Bang created‚Ä¶",
  img:"https://upload.wikimedia.org/wikipedia/commons/c/c3/BigBang_Animation.gif",
  a:["The Universe","Earth","The Moon"],
  correct:0}
],
unit2:[
 {q:"A light-year measures‚Ä¶",
  img:"https://upload.wikimedia.org/wikipedia/commons/d/d2/Light-year.svg",
  a:["Distance","Time","Mass"],
  correct:0}
],
unit20:[
 {q:"Renewable resources include‚Ä¶",
  img:"https://upload.wikimedia.org/wikipedia/commons/7/7f/Windmills_Steinfurt.jpg",
  a:["Solar, wind, water","Coal only","Oil only"],
  correct:0}
]
};

/* ============================
   SCREEN CONTROL
============================ */

function showScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.style.display="none");
  document.getElementById(id).style.display="block";
}

/* ============================
   SAVE DATA
============================ */

function saveStudents(){
  localStorage.setItem("students", JSON.stringify(students));
}

/* ============================
   TEACHER FUNCTIONS
============================ */

function refreshDropdown(){
  let select = document.getElementById("studentSelect");
  select.innerHTML="";
  for(let s in students){
    let opt=document.createElement("option");
    opt.value=s;
    opt.textContent=s;
    select.appendChild(opt);
  }
}

function loadLeaderboard(){
  let div=document.getElementById("leaderboard");
  div.innerHTML="";
  for(let s in students){
    div.innerHTML += `${s}: ${students[s].score} pts<br>`;
  }
}

/* ============================
   UNIT CHECKLIST BUILDER
============================ */

function showUnitChecklist(studentName){
  let div=document.getElementById("unitChecklist");
  div.innerHTML="<h3>Select Units:</h3>";

  Object.keys(units).forEach(unitKey=>{
    let checked = students[studentName].assigned.includes(unitKey);

    div.innerHTML += `
      <label>
        <input type="checkbox" value="${unitKey}" ${checked ? "checked":""}>
        ${units[unitKey]}
      </label><br>
    `;
  });
}

/* ============================
   BUTTON EVENTS
============================ */

document.getElementById("teacherLoginBtn").onclick=()=>{
  if(document.getElementById("teacherPass").value==="caves"){
    showScreen("dashboard");
    refreshDropdown();
    loadLeaderboard();
  } else alert("Wrong password");
};

document.getElementById("addStudentBtn").onclick=()=>{
  let name=document.getElementById("newStudentName").value.trim();
  if(!name) return alert("Enter username");

  students[name]={score:0, assigned:["unit1"]};
  saveStudents();

  refreshDropdown();
  loadLeaderboard();
  alert("Student Added!");
};

document.getElementById("loadUnitsBtn").onclick=()=>{
  let student=document.getElementById("studentSelect").value;
  if(!student) return alert("Pick a student");

  showUnitChecklist(student);
};

document.getElementById("saveUnitsBtn").onclick=()=>{
  let student=document.getElementById("studentSelect").value;
  if(!student) return alert("Pick a student");

  let checkedUnits=[];
  document.querySelectorAll("#unitChecklist input:checked").forEach(box=>{
    checkedUnits.push(box.value);
  });

  students[student].assigned = checkedUnits;
  saveStudents();

  alert("Units Saved Successfully ‚úÖ");
};

/* ============================
   STUDENT LOGIN
============================ */

document.getElementById("studentLoginBtn").onclick=()=>{
  let name=document.getElementById("studentName").value.trim();
  if(!students[name]) return alert("Student not found");

  currentStudent=name;
  showScreen("studentMenu");
  buildUnitButtons();
};

/* ============================
   STUDENT UNIT BUTTONS
============================ */

function buildUnitButtons(){
  let div=document.getElementById("unitButtons");
  div.innerHTML="";

  students[currentStudent].assigned.forEach(u=>{
    let btn=document.createElement("button");
    btn.textContent=units[u];
    btn.onclick=()=>startUnit(u);
    div.appendChild(btn);
  });
}

/* ============================
   QUIZ SYSTEM
============================ */

function startUnit(unitKey){
  currentUnit=unitKey;
  currentQuestionIndex=0;
  score=0;

  showScreen("quizScreen");
  showQuestion();
}

function showQuestion(){
  let questions=questionBank[currentUnit];
  if(!questions){
    alert("No questions yet for this unit.");
    showScreen("studentMenu");
    return;
  }

  let q=questions[currentQuestionIndex];

  document.getElementById("unitTitle").textContent=units[currentUnit];
  document.getElementById("questionText").textContent=q.q;

  let imgDiv=document.getElementById("questionImage");
  imgDiv.innerHTML="";
  if(q.img){
    let img=document.createElement("img");
    img.src=q.img;
    imgDiv.appendChild(img);
  }

  let ansDiv=document.getElementById("answerButtons");
  ansDiv.innerHTML="";

  q.a.forEach((choice,index)=>{
    let btn=document.createElement("button");
    btn.textContent=choice;
    btn.onclick=()=>checkAnswer(index===q.correct);
    ansDiv.appendChild(btn);
  });
}

function checkAnswer(correct){
  if(correct) score+=10;

  alert(correct ? "Correct ‚úÖ" : "Wrong ‚ùå");

  students[currentStudent].score += score;
  saveStudents();

  showScreen("studentMenu");
  buildUnitButtons();
  loadLeaderboard();
}
</script>

</body>
</html>
