<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Earth & Space Science Classroom</title>
<style>
body{
margin:0;
font-family:Arial;
background:radial-gradient(circle at center,#000010,#000000);
color:white;
text-align:center;
}
.screen{display:none;padding:40px;}
.active{display:block;}
button,input{
padding:10px;
margin:10px;
border-radius:8px;
border:none;
}
button{background:#ff9800;cursor:pointer;}
button:hover{background:white;color:black;}
.card{
background:rgba(0,0,0,0.85);
padding:20px;
border-radius:15px;
max-width:650px;
margin:auto;
}
.answer{
display:block;
margin:10px auto;
width:80%;
padding:10px;
background:#111;
color:white;
border:1px solid orange;
}
.answer:hover{background:orange;color:black;}
table{margin:auto;background:black;padding:10px;}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="login" class="screen active">
<h1>ğŸŒğŸŒŒ Earth & Space Science Game</h1>
<h2>Teacher Login</h2>
<input type="password" id="pass" placeholder="Password">
<br>
<button onclick="login()">Login</button>
<p>Password: <b>caves</b></p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="screen">
<h1>ğŸ‘©â€ğŸ« Teacher Controls</h1>

<h3>Unlock Topics</h3>
<label><input type="checkbox" id="stage1"> Big Bang & Universe</label><br>
<label><input type="checkbox" id="stage2"> Earth Layers & Caves</label><br>
<label><input type="checkbox" id="stage3"> Volcanoes & Plate Tectonics</label><br>
<label><input type="checkbox" id="stage4"> Oceans & Trenches</label><br>
<label><input type="checkbox" id="stage5"> Solar System & Space Missions</label><br>

<button onclick="saveUnlocks()">Save Unlocks</button>
<button onclick="studentMode()">Go To Student Mode</button>

<h2>ğŸ† Leaderboard</h2>
<div id="board"></div>
<button onclick="resetBoard()">Reset Leaderboard</button>
</div>

<!-- STUDENT -->
<div id="student" class="screen">
<h1>ğŸ§­ Choose Explorer Name</h1>
<input id="name" placeholder="Nickname">
<div id="stageButtons"></div>
</div>

<!-- GAME -->
<div id="game" class="screen">
<div class="card">
<h2 id="stageTitle"></h2>
<p id="question"></p>
<div id="answers"></div>
<p>â­ Score: <span id="score">0</span></p>
</div>
</div>

<script>
let password="caves"; // <-- teacher password changed
let score=0;
let player="";
let currentStage=null;

const stages={
stage1:{
title:"ğŸ’¥ Big Bang & Universe",
question:"The Big Bang theory explains the origin of what?",
answers:[
{text:"The entire universe",correct:true},
{text:"Earth only",correct:false},
{text:"The Sun",correct:false}
]
},
stage2:{
title:"ğŸŒ Earth Layers & Caves",
question:"Which layer of Earth generates its magnetic field?",
answers:[
{text:"Crust",correct:false},
{text:"Outer Core",correct:true},
{text:"Mantle",correct:false},
{text:"Inner Core",correct:false}
]
},
stage3:{
title:"ğŸŒ‹ Volcanoes & Plate Tectonics",
question:"Mauna Loa in Hawaii is what type of volcano?",
answers:[
{text:"Shield",correct:true},
{text:"Composite",correct:false},
{text:"Cinder cone",correct:false}
]
},
stage4:{
title:"ğŸŒŠ Oceans & Trenches",
question:"The Mariana Trench was formed by?",
answers:[
{text:"Subduction",correct:true},
{text:"Erosion",correct:false},
{text:"Glacier melt",correct:false}
]
},
stage5:{
title:"ğŸª Solar System & Space Missions",
question:"NASA's Perseverance rover explores which planet?",
answers:[
{text:"Mars",correct:true},
{text:"Venus",correct:false},
{text:"Europa",correct:false}
]
}
};

function show(id){
document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

function login(){
if(document.getElementById("pass").value===password){
show("dashboard");
loadBoard();
loadUnlocks();
}else alert("Wrong password");
}

function saveUnlocks(){
let unlocks={
stage1:stage1.checked,
stage2:stage2.checked,
stage3:stage3.checked,
stage4:stage4.checked,
stage5:stage5.checked
};
localStorage.setItem("unlocks",JSON.stringify(unlocks));
alert("Topics Updated");
}

function loadUnlocks(){
let unlocks=JSON.parse(localStorage.getItem("unlocks"))||{};
for(let key in unlocks){
if(document.getElementById(key)){
document.getElementById(key).checked=unlocks[key];
}
}
}

function studentMode(){
show("student");
loadStages();
}

function loadStages(){
let unlocks=JSON.parse(localStorage.getItem("unlocks"))||{};
let div=document.getElementById("stageButtons");
div.innerHTML="";
for(let key in unlocks){
if(unlocks[key]){
let btn=document.createElement("button");
btn.innerText=stages[key].title;
btn.onclick=()=>startStage(key);
div.appendChild(btn);
}
}
}

function startStage(key){
player=document.getElementById("name").value;
if(!player){alert("Enter nickname");return;}
score=0;
currentStage=stages[key];
show("game");
document.getElementById("stageTitle").innerText=currentStage.title;
document.getElementById("question").innerText=currentStage.question;
let div=document.getElementById("answers");
div.innerHTML="";
currentStage.answers.forEach(a=>{
let btn=document.createElement("button");
btn.className="answer";
btn.innerText=a.text;
btn.onclick=()=>selectAnswer(a.correct);
div.appendChild(btn);
});
}

function selectAnswer(correct){
if(correct)score+=20;
saveScore();
alert("Stage Complete! Score: "+score);
show("student");
}

function saveScore(){
let board=JSON.parse(localStorage.getItem("board"))||[];
board.push({name:player,score:score});
board.sort((a,b)=>b.score-a.score);
localStorage.setItem("board",JSON.stringify(board));
}

function loadBoard(){
let board=JSON.parse(localStorage.getItem("board"))||[];
let html="<table><tr><th>Name</th><th>Score</th></tr>";
board.forEach(p=>{
html+="<tr><td>"+p.name+"</td><td>"+p.score+"</td></tr>";
});
html+="</table>";
document.getElementById("board").innerHTML=html;
}

function resetBoard(){
localStorage.removeItem("board");
loadBoard();
}
</script>

</body>
</html>
