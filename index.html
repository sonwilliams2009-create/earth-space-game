<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Earth & Space Science - Gen Z Edition</title>
<style>
body{
margin:0;
font-family:Arial;
background:radial-gradient(circle at center,#0a0a20,#000000);
color:white;
text-align:center;
}
.screen{display:none;padding:30px;}
.active{display:block;}
button,input{
padding:10px;
margin:10px;
border-radius:12px;
border:none;
font-size:16px;
}
button{background:#ff9800;cursor:pointer;transition:0.3s;}
button:hover{background:white;color:black;}
.card{
background:rgba(0,0,0,0.85);
padding:25px;
border-radius:15px;
max-width:700px;
margin:auto;
}
.answer{
display:block;
margin:12px auto;
width:80%;
padding:12px;
background:#111;
color:white;
border:2px solid orange;
border-radius:10px;
font-weight:bold;
}
.answer:hover{background:orange;color:black;}
table{margin:auto;background:#111;padding:12px;border-radius:10px;}
th,td{padding:8px;}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="login" class="screen active">
<h1>ğŸŒ Earth & Space Science - Gen Z Style</h1>
<h2>Student Login</h2>
<input id="studentName" placeholder="Type your username, fam">
<button onclick="studentLogin()">Login ğŸš€</button>
<p>Ask your teacher to hook you up with an account.</p>
<button onclick="show('teacherLogin')">Teacher Login ğŸ”‘</button>
</div>

<!-- TEACHER LOGIN -->
<div id="teacherLogin" class="screen">
<h2>Teacher Login</h2>
<input id="teacherPass" type="password" placeholder="Type password">
<button onclick="teacherLogin()">Login ğŸ”</button>
<button onclick="show('login')">Back â†©ï¸</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="screen">
<h1>ğŸ‘©â€ğŸ« Teacher Dashboard</h1>

<h3>Create Students âœï¸</h3>
<input id="newStudent" placeholder="New student username">
<button onclick="addStudent()">Add Student â•</button>

<h3>Unlock Topics ğŸ”“</h3>
<select id="selectStudent" onchange="loadStudentUnlocks()"></select><br>
<label><input type="checkbox" id="stage1"> Big Bang & Universe ğŸ’¥</label><br>
<label><input type="checkbox" id="stage2"> Earth Layers & Caves ğŸŒ</label><br>
<label><input type="checkbox" id="stage3"> Volcanoes & Plate Tectonics ğŸŒ‹</label><br>
<label><input type="checkbox" id="stage4"> Oceans & Trenches ğŸŒŠ</label><br>
<label><input type="checkbox" id="stage5"> Solar System & Space Missions ğŸª</label><br>
<label><input type="checkbox" id="stage6"> Rock Cycle ğŸª¨</label><br>
<label><input type="checkbox" id="stage7"> Weather & Climate â˜ï¸</label><br>
<label><input type="checkbox" id="stage8"> Earth Resources & Conservation ğŸŒ±</label><br>
<label><input type="checkbox" id="stage9"> Earthquakes & Plate Boundaries ğŸŒ</label><br>
<button onclick="saveUnlocks()">Save Unlocks ğŸ’¾</button>

<h2>ğŸ† Leaderboard + Detailed Scores</h2>
<div id="board"></div>
<button onclick="resetBoard()">Reset Scores ğŸ§¹</button>
<button onclick="teacherLogout()">Logout â†©ï¸</button>
</div>

<!-- STUDENT GAME -->
<div id="studentGame" class="screen">
<h1>ğŸ§­ Pick a Topic, Go Cray</h1>
<div id="stageButtons"></div>
</div>

<div id="game" class="screen">
<div class="card">
<h2 id="stageTitle"></h2>
<p id="question"></p>
<div id="answers"></div>
<p>â­ Current Topic Score: <span id="score">0</span></p>
</div>
</div>

<script>
// ---------- GLOBAL ----------
const teacherPassword = "caves";
let currentStudent="";
let score=0;
let currentStage=null;
let currentQuestionIndex=0;

// ---------- UTILITY ----------
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// ---------- STAGES ----------
const stages={
stage1:{title:"ğŸ’¥ Big Bang & Universe", questions:[
{q:"Yo, the Big Bang popped off to make?", a:[{text:"The universe ğŸ’«",correct:true},{text:"Earth ğŸŒ",correct:false},{text:"Sun â˜€ï¸",correct:false}]},
{q:"CMB is like?", a:[{text:"Radiation from OG universe ğŸ”¥",correct:true},{text:"Some star ğŸŒŸ",correct:false},{text:"Dust ğŸ‘€",correct:false}]},
{q:"Hubble peeped galaxies are?", a:[{text:"Expanding ğŸš€",correct:true},{text:"Chillin' stationary",correct:false},{text:"Collapsing ğŸ•³ï¸",correct:false}]}
]},
stage2:{title:"ğŸŒ Earth Layers & Caves", questions:[
{q:"Which layer is the magnetic flex?", a:[{text:"Outer Core ğŸ§²",correct:true},{text:"Crust âŒ",correct:false},{text:"Mantle ğŸ˜",correct:false}]},
{q:"Mammoth Cave is known for?", a:[{text:"Longest cave system ğŸï¸",correct:true},{text:"Deepest cave â›ï¸",correct:false},{text:"Oldest cave ğŸ•°ï¸",correct:false}]},
{q:"Earth's densest layer is?", a:[{text:"Inner Core ğŸª¨",correct:true},{text:"Crust âŒ",correct:false},{text:"Mantle ğŸ¤”",correct:false}]}
]},
stage3:{title:"ğŸŒ‹ Volcanoes & Plate Tectonics", questions:[
{q:"Mauna Loa is what kinda volcano?", a:[{text:"Shield ğŸ›¡ï¸",correct:true},{text:"Composite âš¡",correct:false},{text:"Cinder ğŸ”¥",correct:false}]},
{q:"Earthquakes happen mostly?", a:[{text:"Plate boundaries ğŸŒ",correct:true},{text:"Plate centers âŒ",correct:false},{text:"Random places ğŸ¤·",correct:false}]},
{q:"Ring of Fire = ?", a:[{text:"Volcanic region around Pacific ğŸŒ",correct:true},{text:"Atlantic ğŸ¤”",correct:false}]}
]},
stage4:{title:"ğŸŒŠ Oceans & Trenches", questions:[
{q:"Mariana Trench formed by?", a:[{text:"Subduction ğŸ”½",correct:true},{text:"Erosion ğŸŒ¬ï¸",correct:false},{text:"Sedimentation â›ï¸",correct:false}]},
{q:"Biggest ocean is?", a:[{text:"Pacific ğŸŒŠ",correct:true},{text:"Atlantic âŒ",correct:false},{text:"Indian ğŸŒ",correct:false}]},
{q:"Ocean currents happen cuz?", a:[{text:"Wind & rotation ğŸŒªï¸",correct:true},{text:"Earthquakes ğŸ˜³",correct:false},{text:"Tides only ğŸŒ™",correct:false}]}
]},
stage5:{title:"ğŸª Solar System & Space Missions", questions:[
{q:"Perseverance rover is chillin' on?", a:[{text:"Mars ğŸ”´",correct:true},{text:"Venus âŒ",correct:false},{text:"Moon ğŸŒ•",correct:false}]},
{q:"Moon's surface = ?", a:[{text:"Regolith ğŸª¨",correct:true},{text:"Water ğŸ’§",correct:false},{text:"Soil ğŸŒ±",correct:false}]},
{q:"Sun = ?", a:[{text:"Star ğŸŒŸ",correct:true},{text:"Planet âŒ",correct:false},{text:"Asteroid ğŸª",correct:false}]}
]},
stage6:{title:"ğŸª¨ Rock Cycle", questions:[
{q:"Igneous rocks formed by?", a:[{text:"Magma/lava cooling ğŸ”¥",correct:true},{text:"Sediments compression âŒ",correct:false},{text:"Metamorphism ğŸ¤”",correct:false}]},
{q:"Which rocks can become metamorphic?", a:[{text:"Igneous + Sedimentary ğŸ’ª",correct:true},{text:"Just Sedimentary âŒ",correct:false},{text:"Just Igneous âŒ",correct:false}]},
{q:"Sedimentary rocks mainly made by?", a:[{text:"Sediment compression ğŸ—ï¸",correct:true},{text:"Melting/cooling âŒ",correct:false},{text:"Pressure only âŒ",correct:false}]}
]},
stage7:{title:"â˜ï¸ Weather & Climate", questions:[
{q:"What powers weather?", a:[{text:"Sun ğŸŒ",correct:true},{text:"Moon ğŸŒ™",correct:false},{text:"Earthquakes ğŸ˜³",correct:false}]},
{q:"Climate = ?", a:[{text:"Average weather ğŸ”¥",correct:true},{text:"Daily vibes âŒ",correct:false},{text:"Air pressure only âŒ",correct:false}]}
]},
stage8:{title:"ğŸŒ± Earth Resources & Conservation", questions:[
{q:"Fossil fuels = ?", a:[{text:"Nonrenewable âŒğŸ”¥",correct:true},{text:"Renewable âœ…",correct:false},{text:"Water only âŒ",correct:false}]},
{q:"Recycling = ?", a:[{text:"Conserve resources ğŸ’¯",correct:true},{text:"Pollute more âŒ",correct:false},{text:"Destroy nature âŒ",correct:false}]}
]},
stage9:{title:"ğŸŒ Earthquakes & Plate Boundaries", questions:[
{q:"Quakes happen mostly?", a:[{text:"Plate boundaries ğŸŒ",correct:true},{text:"Random areas âŒ",correct:false},{text:"Ocean centers ğŸŒŠ",correct:false}]},
{q:"Seismic waves = ?", a:[{text:"Earthquake energy ğŸŒªï¸",correct:true},{text:"Ocean waves âŒ",correct:false},{text:"Wind waves âŒ",correct:false}]}
]}
};

// ---------- LOCAL STORAGE ----------
let students = JSON.parse(localStorage.getItem("students")) || {};

// ---------- UI ----------
function show(id){document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active")); document.getElementById(id).classList.add("active");}

// ---------- TEACHER ----------
function teacherLogin(){let pass=document.getElementById("teacherPass").value; if(pass===teacherPassword){show("dashboard"); loadStudents(); loadLeaderboard();} else alert("Wrong password fam ğŸ¤¨");}
function teacherLogout(){show("login");}

// ---------- STUDENT MANAGEMENT ----------
function addStudent(){let name=document.getElementById("newStudent").value.trim(); if(!name){alert("Type a username smh"); return;} if(!students[name]) students[name]={stage1:false,stage2:false,stage3:false,stage4:false,stage5:false,stage6:false,stage7:false,stage8:false,stage9:false,score:0,topicScores:{}}; localStorage.setItem("students",JSON.stringify(students)); document.getElementById("newStudent").value=""; loadStudents(); alert("Added! ğŸ‰");}
function loadStudents(){let select=document.getElementById("selectStudent"); select.innerHTML=""; for(let s in students){let opt=document.createElement("option"); opt.value=s; opt.text=s; select.add(opt);} loadStudentUnlocks();}
function loadStudentUnlocks(){let s=document.getElementById("selectStudent").value; if(!s) return; for(let i=1;i<=9;i++) document.getElementById("stage"+i).checked = students[s]["stage"+i];}
function saveUnlocks(){let s=document.getElementById("selectStudent").value; for(let i=1;i<=9;i++) students[s]["stage"+i]=document.getElementById("stage"+i).checked; localStorage.setItem("students",JSON.stringify(students)); alert("Unlocks saved ğŸ”“ for "+s);}

// ---------- STUDENT LOGIN ----------
function studentLogin(){let name=document.getElementById("studentName").value.trim(); if(!students[name]){alert("Username not found ğŸ¤”"); return;} currentStudent=name; loadStudentStages();}
function loadStudentStages(){let div=document.getElementById("stageButtons"); div.innerHTML=""; let unlocks=students[currentStudent]; for(let i=1;i<=9;i++){if(unlocks["stage"+i]){let btn=document.createElement("button"); btn.innerText=stages["stage"+i].title; btn.onclick=()=>startStage("stage"+i); div.appendChild(btn);}} show("studentGame");}

// ---------- GAME ----------
function startStage(key){score=0; currentQuestionIndex=0; currentStage={...stages[key]}; currentStage.questions=shuffleArray([...currentStage.questions]); show("game"); showQuestion();}
function showQuestion(){let q=currentStage.questions[currentQuestionIndex]; document.getElementById("stageTitle").innerText=currentStage.title; document.getElementById("question").innerText=q.q; let div=document.getElementById("answers"); div.innerHTML=""; let answersShuffled=shuffleArray([...q.a]); answersShuffled.forEach(a=>{let btn=document.createElement("button"); btn.className="answer"; btn.innerText=a.text; btn.onclick=()=>checkAnswer(a.correct); div.appendChild(btn);});}
function checkAnswer(correct){if(correct) score+=20; currentQuestionIndex++; if(currentQuestionIndex<currentStage.questions.length){showQuestion();} else{students[currentStudent].score+=score; students[currentStudent].topicScores[currentStage.title]=score; localStorage.setItem("students",JSON.stringify(students)); alert("Topic done! ğŸ”¥ Score: "+score); loadStudentStages(); loadLeaderboard();}}

// ---------- LEADERBOARD ----------
function loadLeaderboard(){let html="<table><tr><th>Name</th><th>Total Score</th><th>Topic Scores</th></tr>"; for(let s in students){let topics=students[s].topicScores||{}; let topicStr=Object.entries(topics).map(([k,v])=>`${k}: ${v}`).join("<br>"); html+="<tr><td>"+s+"</td><td>"+students[s].score+"</td><td>"+topicStr+"</td></tr>";} html+="</table>"; document.getElementById("board").innerHTML=html;}
function resetBoard(){for(let s in students){students[s].score=0; students[s].topicScores={};} localStorage.setItem("students",JSON.stringify(students)); loadLeaderboard();}
</script>
</body>
</html>
