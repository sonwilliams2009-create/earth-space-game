<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ECHS KY Bellwork System</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#05051a;
  color:white;
  text-align:center;
}

h1{
  background:#111;
  padding:15px;
  margin:0;
  border-bottom:3px solid orange;
  color:#00e5ff;
}

.screen{display:none;padding:30px;}
#login{display:block;}

button,input,select{
  padding:12px;
  margin:10px;
  border-radius:10px;
  border:none;
  font-size:16px;
}

button{
  background:#ff9800;
  cursor:pointer;
  font-weight:bold;
}

button:hover{
  background:white;
  color:black;
}

.card{
  background:#111;
  padding:20px;
  margin:20px auto;
  border-radius:15px;
  max-width:500px;
}
</style>
</head>

<body>

<h1>üåç ECHS KY Earth & Space Science Bellwork</h1>

<!-- LOGIN SCREEN -->
<div id="login" class="screen">
  <h2>Student Login</h2>
  <input id="studentName" placeholder="Username">
  <button id="studentLoginBtn">Login</button>

  <h2>Teacher Login</h2>
  <input id="teacherPass" type="password" placeholder="Password">
  <button id="teacherLoginBtn">Login</button>
</div>

<!-- TEACHER DASHBOARD -->
<div id="dashboard" class="screen">
  <h2>Teacher Dashboard</h2>

  <div class="card">
    <h3>Add Student</h3>
    <input id="newStudentName" placeholder="Student Username">
    <button id="addStudentBtn">Add Student</button>
  </div>

  <div class="card">
    <h3>Assign Exact Unit</h3>

    <select id="studentSelect"></select>
    <select id="unitSelect"></select>

    <button id="assignUnitBtn">Assign Unit ‚úÖ</button>

    <p id="assignStatus"></p>
  </div>

  <div class="card">
    <h3>Leaderboard</h3>
    <div id="leaderboard"></div>
  </div>

  <button onclick="showScreen('login')">Logout</button>
</div>

<!-- STUDENT MENU -->
<div id="studentMenu" class="screen">
  <h2>Student Bellwork</h2>

  <div class="card">
    <h3>Your Assigned Unit:</h3>
    <p id="assignedUnitText"></p>
    <button id="startUnitBtn">Start Bellwork ‚ñ∂</button>
  </div>

  <button onclick="showScreen('login')">Logout</button>
</div>

<!-- QUIZ SCREEN -->
<div id="quizScreen" class="screen">
  <h2 id="unitTitle"></h2>
  <p id="questionText"></p>
  <div id="answerButtons"></div>
</div>

<script>
/* ============================
   DATA STORAGE (LOCAL)
============================ */

let students = JSON.parse(localStorage.getItem("students")) || {};

let currentStudent = "";
let currentUnit = "";
let questionIndex = 0;
let score = 0;

/* ============================
   UNITS LIST
============================ */

const units = {
  unit1:"Unit 1: Big Bang & Universe",
  unit2:"Unit 2: Stars & Galaxies",
  unit3:"Unit 3: Solar System",
  unit4:"Unit 4: Gravity & Orbits",
  unit5:"Unit 5: Earth Layers",
  unit6:"Unit 6: Plate Tectonics",
  unit7:"Unit 7: Earthquakes",
  unit8:"Unit 8: Volcanoes",
  unit9:"Unit 9: Weather Systems",
  unit10:"Unit 10: Climate Change",
  unit11:"Unit 11: Oceans",
  unit12:"Unit 12: Natural Resources",
  unit13:"Unit 13: Human Impacts",
  unit14:"Unit 14: Moon & Tides",
  unit15:"Unit 15: Space Exploration",
  unit16:"Unit 16: Atmosphere",
  unit17:"Unit 17: Magnetic Field",
  unit18:"Unit 18: Rocks & Minerals",
  unit19:"Unit 19: Geologic Time",
  unit20:"Unit 20: Final Review"
};

/* ============================
   QUESTION BANK (Sample)
============================ */

const questionBank = {
unit6:[
 {q:"Divergent plate boundaries mean plates‚Ä¶",
  a:["Move apart","Collide","Stop moving"],
  correct:0},

 {q:"The Ring of Fire surrounds the‚Ä¶",
  a:["Pacific Ocean","Atlantic Ocean","Indian Ocean"],
  correct:0}
],

unit1:[
 {q:"The Big Bang created‚Ä¶",
  a:["The Universe","Earth","The Moon"],
  correct:0}
]
};

/* ============================
   SCREEN CONTROL
============================ */

function showScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.style.display="none");
  document.getElementById(id).style.display="block";
}

/* ============================
   SAVE FUNCTION
============================ */

function saveStudents(){
  localStorage.setItem("students", JSON.stringify(students));
}

/* ============================
   TEACHER DASHBOARD SETUP
============================ */

function refreshTeacherMenus(){
  let studentDrop=document.getElementById("studentSelect");
  studentDrop.innerHTML="";

  for(let s in students){
    let opt=document.createElement("option");
    opt.value=s;
    opt.textContent=s;
    studentDrop.appendChild(opt);
  }

  let unitDrop=document.getElementById("unitSelect");
  unitDrop.innerHTML="";

  for(let u in units){
    let opt=document.createElement("option");
    opt.value=u;
    opt.textContent=units[u];
    unitDrop.appendChild(opt);
  }

  loadLeaderboard();
}

function loadLeaderboard(){
  let div=document.getElementById("leaderboard");
  div.innerHTML="";
  for(let s in students){
    div.innerHTML += `${s}: ${students[s].score} pts<br>`;
  }
}

/* ============================
   BUTTON EVENTS
============================ */

document.getElementById("teacherLoginBtn").onclick=()=>{
  if(document.getElementById("teacherPass").value==="caves"){
    showScreen("dashboard");
    refreshTeacherMenus();
  } else alert("Wrong password");
};

document.getElementById("addStudentBtn").onclick=()=>{
  let name=document.getElementById("newStudentName").value.trim();
  if(!name) return alert("Enter username");

  students[name]={score:0, assignedUnit:"unit1"};
  saveStudents();

  alert("Student Added!");
  refreshTeacherMenus();
};

document.getElementById("assignUnitBtn").onclick=()=>{
  let student=document.getElementById("studentSelect").value;
  let unit=document.getElementById("unitSelect").value;

  students[student].assignedUnit=unit;
  saveStudents();

  document.getElementById("assignStatus").innerText =
    `‚úÖ Assigned ${units[unit]} to ${student}`;
};

/* ============================
   STUDENT LOGIN
============================ */

document.getElementById("studentLoginBtn").onclick=()=>{
  let name=document.getElementById("studentName").value.trim();

  if(!students[name]) return alert("Student not found üò≠");

  currentStudent=name;
  currentUnit=students[name].assignedUnit;

  document.getElementById("assignedUnitText").innerText =
    units[currentUnit];

  showScreen("studentMenu");
};

/* ============================
   START UNIT
============================ */

document.getElementById("startUnitBtn").onclick=()=>{
  questionIndex=0;
  score=0;
  showScreen("quizScreen");
  showQuestion();
};

/* ============================
   QUIZ SYSTEM
============================ */

function showQuestion(){
  let questions=questionBank[currentUnit];

  if(!questions){
    alert("No questions added yet for this unit.");
    showScreen("studentMenu");
    return;
  }

  let q=questions[questionIndex];

  document.getElementById("unitTitle").innerText =
    units[currentUnit];

  document.getElementById("questionText").innerText=q.q;

  let ansDiv=document.getElementById("answerButtons");
  ansDiv.innerHTML="";

  q.a.forEach((choice,index)=>{
    let btn=document.createElement("button");
    btn.innerText=choice;
    btn.onclick=()=>checkAnswer(index===q.correct);
    ansDiv.appendChild(btn);
  });
}

function checkAnswer(correct){
  if(correct){
    score+=10;
    alert("Correct ‚úÖ");
  } else {
    alert("Wrong ‚ùå");
  }

  questionIndex++;

  let questions=questionBank[currentUnit];

  if(questionIndex<questions.length){
    showQuestion();
  } else {
    alert("Unit Complete! Score: "+score);

    students[currentStudent].score += score;
    saveStudents();

    showScreen("studentMenu");
    loadLeaderboard();
  }
}
</script>

</body>
</html>
