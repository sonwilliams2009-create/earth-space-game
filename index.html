<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Earth & Space Science - Gen Z Edition</title>
<style>
body{
margin:0;
font-family:Arial;
background:radial-gradient(circle at center,#0a0a20,#000000);
color:white;
text-align:center;
}
.screen{display:none;padding:30px;}
.active{display:block;}
button,input{
padding:10px;
margin:10px;
border-radius:12px;
border:none;
font-size:16px;
}
button{background:#ff9800;cursor:pointer;}
button:hover{background:white;color:black;}
.card{
background:rgba(0,0,0,0.9);
padding:25px;
border-radius:15px;
max-width:700px;
margin:auto;
}
.answer{
display:block;
margin:12px auto;
width:80%;
padding:12px;
background:#111;
color:white;
border:2px solid orange;
border-radius:10px;
font-weight:bold;
}
.answer:hover{background:orange;color:black;}
table{margin:auto;background:#111;padding:12px;border-radius:10px;}
th,td{padding:8px;}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="login" class="screen active">
<h1>ğŸŒ Earth & Space Science - Gen Z Mode</h1>
<h2>Student Login</h2>
<input id="studentName" placeholder="Type your username">
<button onclick="studentLogin()">Login ğŸš€</button>
<p>Ask teacher for your account.</p>
<button onclick="show('teacherLogin')">Teacher Login ğŸ”‘</button>
</div>

<!-- TEACHER LOGIN -->
<div id="teacherLogin" class="screen">
<h2>Teacher Login</h2>
<input id="teacherPass" type="password" placeholder="Password">
<button onclick="teacherLogin()">Login</button>
<button onclick="show('login')">Back</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="screen">
<h1>ğŸ‘©â€ğŸ« Teacher Dashboard</h1>

<h3>Create Students</h3>
<input id="newStudent" placeholder="Student username">
<button onclick="addStudent()">Add Student</button>

<h3>Unlock Topics</h3>
<select id="selectStudent" onchange="loadStudentUnlocks()"></select><br>
<label><input type="checkbox" id="stage1"> Big Bang ğŸ’¥</label><br>
<label><input type="checkbox" id="stage2"> Earth Layers ğŸŒ</label><br>
<label><input type="checkbox" id="stage3"> Plate Tectonics ğŸŒ‹</label><br>
<label><input type="checkbox" id="stage4"> Oceans ğŸŒŠ</label><br>
<label><input type="checkbox" id="stage5"> Solar System ğŸª</label><br>
<label><input type="checkbox" id="stage6"> Rock Cycle ğŸª¨</label><br>
<button onclick="saveUnlocks()">Save Unlocks</button>

<h2>ğŸ† Leaderboard</h2>
<div id="board"></div>
<button onclick="resetBoard()">Reset Scores</button>
<button onclick="teacherLogout()">Logout</button>
</div>

<!-- STUDENT -->
<div id="studentGame" class="screen">
<h1>Pick a Topic ğŸ‘‡</h1>
<div id="stageButtons"></div>
</div>

<div id="game" class="screen">
<div class="card">
<h2 id="stageTitle"></h2>
<p id="question"></p>
<div id="answers"></div>
<p>â­ Topic Score: <span id="score">0</span></p>
</div>
</div>

<script>

const teacherPassword="caves";
let currentStudent="";
let score=0;
let currentStage=null;
let currentQuestionIndex=0;

// Shuffle Function
function shuffleArray(array){
for(let i=array.length-1;i>0;i--){
const j=Math.floor(Math.random()*(i+1));
[array[i],array[j]]=[array[j],array[i]];
}
return array;
}

// STAGES (Expanded Question Banks)
const stages={
stage1:{title:"ğŸ’¥ Big Bang & Universe",questions:[
{q:"Big Bang created?",a:[{text:"Universe ğŸ’«",correct:true},{text:"Earth",correct:false},{text:"Moon",correct:false}]},
{q:"Universe age?",a:[{text:"13.8 billion years",correct:true},{text:"6,000 years",correct:false},{text:"1 million",correct:false}]},
{q:"Hubble saw galaxies?",a:[{text:"Expanding ğŸš€",correct:true},{text:"Still",correct:false},{text:"Shrinking",correct:false}]},
{q:"Light year measures?",a:[{text:"Distance",correct:true},{text:"Time",correct:false},{text:"Mass",correct:false}]},
{q:"Most universe is?",a:[{text:"Dark matter & energy",correct:true},{text:"Stars only",correct:false},{text:"Gas only",correct:false}]}
]},
stage2:{title:"ğŸŒ Earth Layers",questions:[
{q:"Magnetic field from?",a:[{text:"Outer core",correct:true},{text:"Crust",correct:false},{text:"Mantle",correct:false}]},
{q:"Densest layer?",a:[{text:"Inner core",correct:true},{text:"Crust",correct:false},{text:"Mantle",correct:false}]},
{q:"Lithosphere?",a:[{text:"Crust + upper mantle",correct:true},{text:"Core only",correct:false},{text:"Mantle only",correct:false}]},
{q:"Heat increases?",a:[{text:"Deeper",correct:true},{text:"Surface",correct:false},{text:"Same",correct:false}]}
]},
stage3:{title:"ğŸŒ‹ Plate Tectonics",questions:[
{q:"Divergent?",a:[{text:"Move apart",correct:true},{text:"Collide",correct:false},{text:"Slide",correct:false}]},
{q:"Convergent?",a:[{text:"Collide",correct:true},{text:"Separate",correct:false},{text:"Float",correct:false}]},
{q:"Transform?",a:[{text:"Slide past",correct:true},{text:"Crash",correct:false},{text:"Sink",correct:false}]},
{q:"Ring of Fire?",a:[{text:"Pacific region",correct:true},{text:"Atlantic",correct:false},{text:"Arctic",correct:false}]}
]},
stage4:{title:"ğŸŒŠ Oceans",questions:[
{q:"Largest ocean?",a:[{text:"Pacific",correct:true},{text:"Atlantic",correct:false},{text:"Indian",correct:false}]},
{q:"Deepest trench?",a:[{text:"Mariana",correct:true},{text:"Java",correct:false},{text:"Puerto Rico",correct:false}]},
{q:"Currents caused by?",a:[{text:"Wind + rotation",correct:true},{text:"Quakes",correct:false},{text:"Fish",correct:false}]},
{q:"Salinity?",a:[{text:"Saltiness",correct:true},{text:"Heat",correct:false},{text:"Depth",correct:false}]}
]},
stage5:{title:"ğŸª Solar System",questions:[
{q:"Sun is a?",a:[{text:"Star",correct:true},{text:"Planet",correct:false},{text:"Asteroid",correct:false}]},
{q:"Mars rover Perseverance on?",a:[{text:"Mars",correct:true},{text:"Venus",correct:false},{text:"Moon",correct:false}]},
{q:"Moon surface?",a:[{text:"Regolith",correct:true},{text:"Water",correct:false},{text:"Grass",correct:false}]},
{q:"Closest planet to Sun?",a:[{text:"Mercury",correct:true},{text:"Venus",correct:false},{text:"Earth",correct:false}]}
]},
stage6:{title:"ğŸª¨ Rock Cycle",questions:[
{q:"Igneous forms from?",a:[{text:"Cooling magma",correct:true},{text:"Sediments",correct:false},{text:"Pressure only",correct:false}]},
{q:"Metamorphic from?",a:[{text:"Heat + pressure",correct:true},{text:"Melting fully",correct:false},{text:"Cooling lava",correct:false}]},
{q:"Sedimentary forms by?",a:[{text:"Compacted sediments",correct:true},{text:"Magma cooling",correct:false},{text:"Core heat",correct:false}]},
{q:"Weathering does?",a:[{text:"Break rocks down",correct:true},{text:"Melt rocks",correct:false},{text:"Create magma",correct:false}]}
]}
};

// STORAGE
let students=JSON.parse(localStorage.getItem("students"))||{};

// UI
function show(id){document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));document.getElementById(id).classList.add("active");}

// TEACHER
function teacherLogin(){let pass=document.getElementById("teacherPass").value;if(pass===teacherPassword){show("dashboard");loadStudents();loadLeaderboard();}else alert("Wrong password");}
function teacherLogout(){show("login");}

// STUDENTS
function addStudent(){let name=document.getElementById("newStudent").value.trim();if(!name)return alert("Enter username");if(!students[name])students[name]={stage1:false,stage2:false,stage3:false,stage4:false,stage5:false,stage6:false,score:0,topicScores:{}};localStorage.setItem("students",JSON.stringify(students));loadStudents();}
function loadStudents(){let select=document.getElementById("selectStudent");select.innerHTML="";for(let s in students){let opt=document.createElement("option");opt.value=s;opt.text=s;select.add(opt);}loadStudentUnlocks();}
function loadStudentUnlocks(){let s=document.getElementById("selectStudent").value;if(!s)return;for(let i=1;i<=6;i++)document.getElementById("stage"+i).checked=students[s]["stage"+i];}
function saveUnlocks(){let s=document.getElementById("selectStudent").value;for(let i=1;i<=6;i++)students[s]["stage"+i]=document.getElementById("stage"+i).checked;localStorage.setItem("students",JSON.stringify(students));alert("Saved");}

// STUDENT LOGIN
function studentLogin(){let name=document.getElementById("studentName").value.trim();if(!students[name])return alert("Username not found");currentStudent=name;loadStudentStages();}
function loadStudentStages(){let div=document.getElementById("stageButtons");div.innerHTML="";for(let i=1;i<=6;i++){if(students[currentStudent]["stage"+i]){let btn=document.createElement("button");btn.innerText=stages["stage"+i].title;btn.onclick=function(){startStage("stage"+i)};div.appendChild(btn);}}show("studentGame");}

// GAME
function startStage(key){score=0;currentQuestionIndex=0;currentStage=JSON.parse(JSON.stringify(stages[key]));shuffleArray(currentStage.questions);show("game");showQuestion();}
function showQuestion(){let q=currentStage.questions[currentQuestionIndex];document.getElementById("stageTitle").innerText=currentStage.title;document.getElementById("question").innerText=q.q;let div=document.getElementById("answers");div.innerHTML="";shuffleArray(q.a);q.a.forEach(function(a){let btn=document.createElement("button");btn.className="answer";btn.innerText=a.text;btn.onclick=function(){checkAnswer(a.correct)};div.appendChild(btn);});document.getElementById("score").innerText=score;}
function checkAnswer(correct){if(correct)score+=20;currentQuestionIndex++;if(currentQuestionIndex<currentStage.questions.length){showQuestion();}else{students[currentStudent].score+=score;students[currentStudent].topicScores[currentStage.title]=score;localStorage.setItem("students",JSON.stringify(students));alert("Topic done! Score: "+score);loadStudentStages();loadLeaderboard();}}

// LEADERBOARD
function loadLeaderboard(){let html="<table><tr><th>Name</th><th>Total</th></tr>";for(let s in students){html+="<tr><td>"+s+"</td><td>"+students[s].score+"</td></tr>";}html+="</table>";document.getElementById("board").innerHTML=html;}
function resetBoard(){for(let s in students){students[s].score=0;students[s].topicScores={};}localStorage.setItem("students",JSON.stringify(students));loadLeaderboard();}

</script>
</body>
</html>
